{"mappings":"ACAA,OAAO,GAAG,CAAG,OAAO,GAAG,EAAI,CAAC,EAE5B,IAAI,WAAW,CAAG,IAElB,IAAI,aAAa,CAAG,SAAS,CAAK,EAC9B,IAAI,EAAQ,KAAA,CAEZ,CADA,CAAA,EAAQ,SAAS,cAAc,CAAC,aAAhC,EACM,KAAK,CAAC,OAAO,CAAG,EACtB,QAAQ,GAAG,CAAC,WAAY,sBAAuB,EAAM,KAAK,CAAC,OAAO,CACtE,EAEA,IAAI,SAAS,CAAG,SAAS,CAAK,EAC1B,IAAI,EAAO,KAAA,CAEX,CADA,CAAA,EAAO,SAAS,cAAc,CAAC,OAA/B,EACK,KAAK,CAAC,KAAK,CAAI,AAAA,CAAA,EAAI,AAAQ,EAAR,CAAQ,EAAK,IAAM,KAC3C,EAAK,KAAK,CAAC,MAAM,CAAI,AAAA,CAAA,EAAI,AAAQ,EAAR,CAAQ,EAAK,IAAM,KAC5C,EAAK,KAAK,CAAC,MAAM,CAAG,AAAQ,IAAR,EAAc,UAClC,QAAQ,GAAG,CAAC,WAAY,kBAAmB,AAAQ,IAAR,EAAc,QAAU,AAAQ,IAAR,EAAc,KACrF,EAEA,IAAI,YAAY,CAAG,SAAS,CAAU,EAClC,IAAI,EAAS,CACT,AAAoB,CAAA,KAApB,IAAI,CAAC,WAAW,EAChB,EAAU,SAAS,cAAc,CAAC,aAClC,EAAU,SAAS,cAAc,CAAC,aAClC,EAAQ,KAAK,CAAC,OAAO,CAAG,EACxB,EAAQ,KAAK,CAAC,OAAO,CAAG,EACxB,EAAQ,GAAG,CAAG,EACd,IAAI,CAAC,WAAW,CAAG,KAEM,KAApB,IAAI,CAAC,WAAW,GACrB,EAAU,SAAS,cAAc,CAAC,aAClC,EAAU,SAAS,cAAc,CAAC,aAClC,EAAQ,KAAK,CAAC,OAAO,CAAG,EACxB,EAAQ,KAAK,CAAC,OAAO,CAAG,EACxB,EAAQ,GAAG,CAAG,EACd,IAAI,CAAC,WAAW,CAAG,IAE3B,EAEA,IAAI,IAAI,CAAG,WACP,QAAQ,GAAG,CAAC,WAAY,mBAExB,QAAQ,GAAG,CAAC,WAAY,gBAAkB,SAAS,QAAQ,CAAG,IAAM,SAAS,IAAI,EACjF,OAAO,MAAM,CAAG,GAAG,SAAS,QAAQ,CAAG,IAAM,SAAS,IAAI,EAC1D,QAAQ,GAAG,CAAC,WAAY,OAAO,MAAM,EAErC,OAAO,EAAE,CAAC,cAAe,SAAU,CAAG,EAClC,QAAQ,GAAG,CAAC,WAAY,gCAAiC,GACzD,IAAI,YAAY,CAAC,IAAM,EAC3B,GAEA,OAAO,EAAE,CAAC,WAAY,SAAU,CAAG,EAC/B,QAAQ,GAAG,CAAC,WAAY,qBAAsB,GAC9C,OAAO,cAAc,CAAG,EACxB,GAAI,CACI,AAAyB,KAAA,GAAzB,CAAG,CAAC,iBAAiB,EACrB,AAA+C,KAAA,GAA/C,CAAG,CAAC,iBAAiB,CAAC,qBAAqB,EAE3C,IAAI,aAAa,CAAC,CAAG,CAAC,iBAAiB,CAAC,qBAAqB,EAE7D,AAAyB,KAAA,GAAzB,CAAG,CAAC,iBAAiB,EACrB,AAA2C,KAAA,GAA3C,CAAG,CAAC,iBAAiB,CAAC,iBAAiB,EAEvC,IAAI,SAAS,CAAC,CAAG,CAAC,iBAAiB,CAAC,iBAAiB,CAE7D,CACA,KAAM,CACF,QAAQ,GAAG,CAAC,WAAY,2BAC5B,CACJ,GAEA,OAAO,EAAE,CAAC,cAAe,SAAU,CAAK,CAAE,CAAK,EACvC,AAAS,qCAAT,GACA,IAAI,aAAa,CAAC,GAClB,AAAS,iCAAT,GACA,IAAI,SAAS,CAAC,EACtB,EACJ,EAEA,IAAI,IAAI","sources":["<anon>","src/js/index.js"],"sourcesContent":["var $8f6a480bb40b134f$exports = {};\nwindow.App = window.App || {};\nApp.activeFrame = 'a';\nApp.setBrightness = function(value) {\n    var frame = undefined;\n    frame = document.getElementById('frame-view');\n    frame.style.opacity = value;\n    console.log(\"WIIM App\", \"brightness set to: \", frame.style.opacity);\n};\nApp.setMargin = function(value) {\n    var body = undefined;\n    body = document.getElementById('body');\n    body.style.width = (1 - value * 2) * 100 + \"vw\";\n    body.style.height = (1 - value * 2) * 100 + \"vh\";\n    body.style.margin = value * 100 + \"vh auto\";\n    console.log(\"WIIM App\", \"margin set to: \", value * 100 + \"vw / \" + value * 100 + \"vh\");\n};\nApp.toogleIframe = function(newContent) {\n    var iframea, iframeb;\n    if (this.activeFrame == 'a') {\n        iframea = document.getElementById('content-a');\n        iframeb = document.getElementById('content-b');\n        iframea.style.opacity = 0;\n        iframeb.style.opacity = 1;\n        iframeb.src = newContent;\n        this.activeFrame = 'b';\n    } else if (this.activeFrame == 'b') {\n        iframea = document.getElementById('content-a');\n        iframeb = document.getElementById('content-b');\n        iframea.style.opacity = 1;\n        iframeb.style.opacity = 0;\n        iframea.src = newContent;\n        this.activeFrame = 'a';\n    }\n};\nApp.init = function() {\n    console.log(\"WIIM App\", \"Initialising...\");\n    console.log(\"WIIM App\", \"Listening on \" + location.hostname + \":\" + location.port);\n    window.socket = io(location.hostname + \":\" + location.port);\n    console.log(\"WIIM App\", window.socket);\n    socket.on(\"select-page\", function(msg) {\n        console.log(\"WIIM App\", \"Select page command received:\", msg);\n        App.toogleIframe('/' + msg);\n    });\n    socket.on(\"settings\", function(msg) {\n        console.log(\"WIIM App\", \"Settings received:\", msg);\n        window.serverSettings = msg;\n        try {\n            if (msg['display-client'] != undefined && msg['display-client']['display-brightness'] != undefined) App.setBrightness(msg['display-client']['display-brightness']);\n            if (msg['display-client'] != undefined && msg['display-client']['display-margin'] != undefined) App.setMargin(msg['display-client']['display-margin']);\n        } catch  {\n            console.log(\"WIIM App\", \"Invalid settings content\");\n        }\n    });\n    socket.on(\"set-setting\", function(param, value) {\n        if (param == \"display-client.display-brightness\") App.setBrightness(value);\n        if (param == \"display-client.display-margin\") App.setMargin(value);\n    });\n};\nApp.init();\n\n\n//# sourceMappingURL=client.4dfdead8.js.map\n","window.App = window.App || {};\n\nApp.activeFrame = 'a';\n\nApp.setBrightness = function(value) {\n    var frame = undefined;\n    frame = document.getElementById('frame-view');\n    frame.style.opacity = value;\n    console.log(\"WIIM App\", \"brightness set to: \", frame.style.opacity);\n};\n\nApp.setMargin = function(value) {\n    var body = undefined;\n    body = document.getElementById('body');\n    body.style.width = (1 - value * 2) * 100 + \"vw\";\n    body.style.height = (1 - value * 2) * 100 + \"vh\";\n    body.style.margin = value * 100 + \"vh auto\";\n    console.log(\"WIIM App\", \"margin set to: \", value * 100 + \"vw / \" + value * 100 + \"vh\");\n};\n\nApp.toogleIframe = function(newContent) {\n    var iframea, iframeb;\n    if (this.activeFrame == 'a') {\n        iframea = document.getElementById('content-a');\n        iframeb = document.getElementById('content-b');\n        iframea.style.opacity = 0;\n        iframeb.style.opacity = 1;\n        iframeb.src = newContent;\n        this.activeFrame = 'b';\n    }\n    else if (this.activeFrame == 'b') {\n        iframea = document.getElementById('content-a');\n        iframeb = document.getElementById('content-b');\n        iframea.style.opacity = 1;\n        iframeb.style.opacity = 0;\n        iframea.src = newContent;\n        this.activeFrame = 'a';\n    }\n}\n\nApp.init = function() {\n    console.log(\"WIIM App\", \"Initialising...\");\n\n    console.log(\"WIIM App\", \"Listening on \" + location.hostname + \":\" + location.port)\n    window.socket = io(location.hostname + \":\" + location.port);\n    console.log(\"WIIM App\", window.socket);\n\n    socket.on(\"select-page\", function (msg) {\n        console.log(\"WIIM App\", \"Select page command received:\", msg);\n        App.toogleIframe('/' + msg);\n    });\n\n    socket.on(\"settings\", function (msg) {\n        console.log(\"WIIM App\", \"Settings received:\", msg);\n        window.serverSettings = msg;\n        try {\n            if (msg['display-client'] != undefined &&\n                msg['display-client']['display-brightness'] != undefined)\n            {\n                App.setBrightness(msg['display-client']['display-brightness']);\n            }\n            if (msg['display-client'] != undefined &&\n                msg['display-client']['display-margin'] != undefined)\n            {\n                App.setMargin(msg['display-client']['display-margin']);\n            }\n        }\n        catch {\n            console.log(\"WIIM App\", \"Invalid settings content\");\n        }\n    });\n\n    socket.on(\"set-setting\", function (param, value) {\n        if (param == \"display-client.display-brightness\")\n            App.setBrightness(value);\n        if (param == \"display-client.display-margin\")\n            App.setMargin(value);\n    });\n}\n\nApp.init();\n"],"names":["window","App","activeFrame","setBrightness","value","frame","undefined","document","getElementById","style","opacity","console","log","setMargin","body","width","height","margin","toogleIframe","newContent","iframea","iframeb","src","init","location","hostname","port","socket","io","on","msg","serverSettings","param"],"version":3,"file":"client.4dfdead8.js.map"}